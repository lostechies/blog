---
id: 4825
title: Templates With Razor
date: 2011-07-11T23:05:33+00:00
author: Hugo Bonacci
layout: post
guid: http://lostechies.com/hugobonacci/?p=8
dsq_thread_id:
  - "397456831"
categories:
  - General Posts
tags:
  - ASP.NET
  - mvc
  - Razor
  - Template
  - Web Development
---
Razor is a great way to create views with ASP.NET MVC. One feature I use quite often are custom helpers. Instead of duplicating the same few lines of markup I simply create a reusable helper to generate HTML.

For example, you could create a helper to do something simple like render out a series of values&#8230;

<pre class="brush: csharp" >@helper tabs(params Tab[] tabs) {
&lt;ul>
  @foreach(var tab in tabs) {
  &lt;li>&lt;a href="@tab.Url" >@tab.Text&lt;/a>&lt;/li>
  }
&lt;/ul>
}</pre>

Then use the helper by providing the parameters it needs&#8230;

<pre class="brush: csharp" >@tabs(
  new Tab { Text = "Google.com", Url = "http://google.com" },
  new Tab { Text = "Hugoware.net", Url = "http://hugoware.net" },
  new Tab { Text = "LosTechies.com", Url = "http://lostechies.com" })</pre>

This works pretty well for the most part but it is pretty limited in what it can do. Lets look at another approach.

### Providing A &#8216;Template&#8217;

In the previous example values were passed into the helper and used to generate the markup required. This time, the helper accepts slightly different arguments that will allow a bit more control.

<pre class="brush: csharp" >@helper dialog(string title, 
    Func&lt;object, object> content) {
    &lt;div class="dialog-box" >
      &lt;h3>@title&lt;/h3>
      &lt;div class="dialog-box-content" >
        @content(null)
      &lt;/div>
    &lt;/div>
    }</pre>

This example uses a simple lambda (Func<object, object>) as an argument to provide markup to render. This allows the Razor block (@<text>&#8230;</text>) to be passed in as an argument for the helper.

<pre class="brush: csharp" >@dialog("User Status", 
  @&lt;strong>User is offline!&lt;/strong>
  )</pre>

Now, the content is generated by an external source!

### Using Types With Your Templates

So far the examples have used Func<object,object> as a template argument and then invoked the method with null as the argument. As it turns out, not only can you provide a value for that argument, if the argument type for the Func<&#8230;> is provided then it can be used from within a template.

<pre class="brush: csharp" >@helper user_status(IEnumerable&lt;User> users, 
  Func&lt;User, object> online, 
  Func&lt;User, object> offline) {
   
  &lt;div class="user-status-list" >
      &lt;div class="user-status" >
      @foreach(var user in users) {
          &lt;h3>@user.Username&lt;/h3>
           
          if (user.IsOnline) { @online(user); } 
          else { @offline(user); }
      }
      &lt;/div>
  &lt;/div>
}</pre>

The helper above passes each User into the correct template. Now, a User can be referenced by using **item** from within the template.

<pre class="brush: csharp" >@user_status(users, 
     
    online:@&lt;div class="user-online" >
      User @item.Username is online!
    &lt;/div>,
     
    offline: @&lt;div class="user-offline" >
        User @item.Username is offline!
        &lt;a href="#" >Send a message!&lt;/a>
        &lt;/div>
        )
</pre>

Now, the contents of each template is unique to the User that was provided!