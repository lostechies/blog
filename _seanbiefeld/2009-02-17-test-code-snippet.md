---
wordpress_id: 4447
title: test code snippet
date: 2009-02-17T08:45:00+00:00
author: Sean Biefeld
layout: post
wordpress_guid: /blogs/seanbiefeld/archive/2009/02/17/test-code-snippet.aspx
dsq_thread_id:
  - "467281511"
categories:
  - Uncategorized
---
<pre style="background-color: #141414;font-family: Lucida Console;padding: 5px;border:solid 1px #333;overflow: auto;color: #BEBEC8;font-size: 10pt"><span style="color: #cda869">protected</span> <span style="color: #cda869">virtual</span> <span style="color: #d0da90">ICriterion</span> WhereInactiveDateIsNull<br />{ <br />	<span style="color: #cda869">get</span><br />	{<br />		<span style="color: #cda869">return</span> <span style="color: #7386a5">Restrictions</span>.IsNull(<span style="color: #8f9d6a">"InactiveDate"</span>);<br />	}<br />}<br /><br /><span style="color: #cda869">protected</span> <span style="color: #cda869">virtual</span> <span style="color: #d0da90">IList</span>&lt;Entity&gt; GetAllItems(<span style="color: #cda869">params</span> <span style="color: #d0da90">ICriterion</span>[] criterion)<br />{<br />	<span style="color: #d0da90">ICriteria</span> getCriteria = Session.CreateCriteria(<span style="color: #cda869">typeof</span>(Entity));<br /><br />	<span style="color: #cda869">if</span> (criterion != <span style="color: #cda869">null</span>)<br />	{<br />		<span style="color: #cda869">foreach</span> (<span style="color: #cda869">var</span> criteria <span style="color: #cda869">in</span> criterion)<br />		{<br />			getCriteria.Add(criteria);<br />		}<br />	}<br /><br />	<span style="color: #cda869">return</span> getCriteria.List&lt;Entity&gt;();<br />}<br /><br /><span style="color: #cda869">public</span> <span style="color: #cda869">virtual</span> <span style="color: #d0da90">IList</span>&lt;Entity&gt; GetAll()<br />{<br />	<span style="color: #cda869">return</span> GetAllItems();<br />}<br /><br /><span style="color: #cda869">public</span> <span style="color: #cda869">virtual</span> <span style="color: #d0da90">IList</span>&lt;Entity&gt; GetActiveItems()<br />{<br />	<span style="color: #cda869">return</span> GetAllItems(WhereInactiveDateIsNull);<br />}<br /><br /><span style="color: #cda869">public</span> <span style="color: #cda869">virtual</span> <span style="color: #d0da90">IList</span>&lt;Entity&gt; GetItemsLikeName(<span style="color: #cda869">string</span> name, <span style="color: #cda869">string</span> columnToCompareBy)<br />{<br />	<span style="color: #d0da90">ICriterion</span> whereColumnValueStartsWithNameIgnoringCase <br />		= <span style="color: #7386a5">Restrictions</span>.Like(columnToCompareBy, name, <span style="color: #7386a5">MatchMode</span>.Start).IgnoreCase();<br /><br />       	<span style="color: #cda869">return</span> GetAllItems<br />	(<br />		WhereInactiveDateIsNull,<br />		whereColumnValueStartsWithNameIgnoringCase<br />	);<br />}<br /></pre>